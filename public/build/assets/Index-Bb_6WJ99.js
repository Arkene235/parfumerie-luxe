import{k as y,g as c,w as n,b as t,c as a,o,d as g,u as p,l as m,e as h,F as v,p as _,j as d,t as l,i as k,q as w}from"./app-C1P8zghW.js";import{_ as I}from"./PublicLayout-Et60nxxn.js";import"./ApplicationLogo-B18VuzIY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-dWEnZay8.js";const V={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},C={class:"p-6 bg-white border-b border-gray-200"},N={key:0,class:"text-center"},$={key:1},j={class:"flex items-center"},A=["src","alt"],F={class:"text-lg font-semibold"},P={class:"flex items-center"},S=["onSubmit"],T=["value"],D={class:"text-right"},E={class:"font-bold"},H={class:"mt-6 text-right"},L={class:"text-xl font-bold"},G={__name:"Index",props:{cartItems:Array},setup(i){const u=i,b=y(()=>!u.cartItems||!Array.isArray(u.cartItems)?0:u.cartItems.reduce((r,e)=>{const s=parseFloat(e.total)||0;return r+s},0)),f=(r,e)=>{w.patch(route("cart.update",r.id),{quantity:e})};return(r,e)=>(o(),c(I,{title:"Cart"},{default:n(()=>[t("div",V,[t("div",q,[t("div",B,[t("div",C,[e[5]||(e[5]=t("h1",{class:"text-2xl font-bold mb-4"},"Votre Panier",-1)),i.cartItems.length===0?(o(),a("div",N,[e[1]||(e[1]=t("p",null,"Votre panier est vide.",-1)),g(p(m),{href:r.route("products.index"),class:"text-blue-500"},{default:n(()=>[...e[0]||(e[0]=[h("Continuer vos achats",-1)])]),_:1},8,["href"])])):(o(),a("div",$,[(o(!0),a(v,null,_(i.cartItems,s=>(o(),a("div",{key:s.product.id,class:"flex justify-between items-center border-b py-4"},[t("div",j,[s.product.image?(o(),a("img",{key:0,src:s.product.image,alt:s.product.name,class:"w-16 h-16 object-cover mr-4"},null,8,A)):d("",!0),t("div",null,[t("h2",F,l(s.product.name),1),t("p",null,l(s.product.price)+" DH",1)])]),t("div",P,[r.$page.props.auth.user?(o(),a("form",{key:0,onSubmit:k(x=>f(s.product,x.target.quantity.value),["prevent"]),class:"flex items-center"},[t("input",{type:"number",value:s.quantity,name:"quantity",min:"1",class:"w-16 text-center border rounded mr-2"},null,8,T),e[2]||(e[2]=t("button",{type:"submit",class:"bg-gray-500 text-white px-2 py-1 rounded mr-2"},"Update",-1))],40,S)):d("",!0),r.$page.props.auth.user?(o(),c(p(m),{key:1,href:r.route("cart.remove",s.product.id),method:"delete",as:"button",class:"bg-red-500 text-white px-2 py-1 rounded"},{default:n(()=>[...e[3]||(e[3]=[h("Remove",-1)])]),_:1},8,["href"])):d("",!0)]),t("div",D,[t("p",E,l(s.total),1)])]))),128)),t("div",H,[t("p",L,"Total: "+l(b.value),1),r.$page.props.auth.user?(o(),c(p(m),{key:0,href:r.route("checkout.index"),class:"bg-blue-500 text-white px-4 py-2 rounded mt-4 inline-block hover:bg-blue-600 transition-colors"},{default:n(()=>[...e[4]||(e[4]=[h("Proc√©der au Paiement",-1)])]),_:1},8,["href"])):d("",!0)])]))])])])])]),_:1}))}};export{G as default};
